<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Keybase Book: </title>
    <meta name="description" content="" />
    <meta name="robots" content="index,follow" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <link rel="stylesheet" href="/static/css/custom.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/favicon/site.webmanifest">
    <link rel="mask-icon" href="/static/favicon/safari-pinned-tab.svg" color="#030303">
    <meta name="msapplication-TileColor" content="#f0f0f0">
    <meta name="theme-color" content="#f0f0f0">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@KeybaseIO">
    <meta name="twitter:creator" content="@KeybaseIO">
    <meta name="twitter:title" content="Keybase Book">
    <meta name="twitter:description" content="Use Keybase for end-to-end encrypted chat messaging, file sharing, and team collaboration. Get the free app for iOS, Mac, Android, Windows, and Linux.">
    <meta name="twitter:image" content="/static/img/twitter-card.jpg">

    <script>
    function url_for(filename) {
        const prefix = "";
        const STATIC_ASSET_MAP = {};

        if (STATIC_ASSET_MAP.hasOwnProperty(filename)) {
            return prefix + STATIC_ASSET_MAP[filename] + "/" + filename;
        }

        return prefix + filename;
    }
    </script>
  </head>
  <body>

    <div class="app">
      <nav class="site-nav">
            <a class="site-nav__brand" href="/">Keybase&nbsp;<span>Book</span></a>
            
            <div class="site-nav__actions">
                
                <a class="site-nav__jump site-nav__jump--primary" href="https://book.keybase.io/guides/linux" target="_blank">查看原版</a>
                <a class="site-nav__jump" href="https://keybase.io">前往 keybase.io</a>
            </div>
        </nav>
      <main class="main">
        
    <div class="content">
        
        <div class="side-nav side-nav--extended">
        <nav class="chapter-nav">
            <p class="chapter-nav__label">指南</p>
            
            <ol class="chapter-nav__list">
                
                
                <li class="chapter-nav__list-item">
                    <a href="/guides/command-line" class="chapter-nav__link">命令行</a>
                    
                </li>
                
                
                <li class="chapter-nav__list-item">
                    <a href="/guides/linux" class="chapter-nav__link chapter-nav__link--active">Linux 用户指南</a>
                    
                    <ol class="chapter-nav__nested-list">
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#快速开始-quickstart" class="chapter-nav__nested-link">快速开始 (Quickstart)</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#示例命令-example-commands" class="chapter-nav__nested-link">示例命令 (Example Commands)</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#nightly-构建版本-nightly-builds" class="chapter-nav__nested-link">Nightly 构建版本 (Nightly Builds)</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#自动启动-autostart" class="chapter-nav__nested-link">自动启动 (Autostart)</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#run_keybase" class="chapter-nav__nested-link">`run_keybase`</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#systemd-和运行无界面-keybase" class="chapter-nav__nested-link">systemd 和运行无界面 Keybase</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#示例systemd-定时器上的每日-kbfs-备份" class="chapter-nav__nested-link">示例：systemd 定时器上的每日 KBFS 备份</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#配置-kbfs-configuring-kbfs" class="chapter-nav__nested-link">配置 KBFS (Configuring KBFS)</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#在没有-root-权限的情况下安装-keybase" class="chapter-nav__nested-link">在没有 Root 权限的情况下安装 Keybase</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#对于软件包维护者-for-package-maintainers" class="chapter-nav__nested-link">对于软件包维护者 (For Package Maintainers)</a>
                        </li>
                        
                        <li class="chapter-nav__nested-list-item">
                             <a href="/guides/linux#反馈和问题-feedback-and-questions" class="chapter-nav__nested-link">反馈和问题 (Feedback and Questions)</a>
                        </li>
                        
                    </ol>
                    
                </li>
                
                
                <li class="chapter-nav__list-item">
                    <a href="/guides/pgp-in-javascript" class="chapter-nav__link">kbpgp.js</a>
                    
                </li>
                
            </ol>
            <a href="/account" class="chapter-nav__back">返回章节列表</a>
        </nav>
    </div>
        
        <div class="content__inner">
            <section id="overview" class="content__section">
                <h1 id="linux">Linux</h1>
<p>本指南适用于从 Linux 初学者到专家乃至发行版软件包维护者的所有人。它涵盖了 Linux 上 Keybase 独有的一些主题。如果您有任何<a href="#feedback-and-questions">反馈或问题</a>，请告诉我们！</p>
<h2 id="快速开始-quickstart">快速开始 (Quickstart)</h2>
<p>Keybase 官方仅支持 Ubuntu, Debian, Fedora, CentOS, 和 Arch，但也存在适用于其他系统的软件包。</p>
<p>请注意，我们维护的软件包是获取最新功能和安全更新的最快方式，社区软件包可能会有我们无法控制的打包问题，并且下面的说明可能无法开箱即用。</p>
<p>无论您如何安装，都应该通过运行包管理器的更新命令来自动获取更新。</p>
<p>{# TODO: table</p>
<table class="padded-table">
    <tr>
        <th>发行版 (Distribution)</th>
        <th>URL</th>
        <th>维护者 (Maintainer)</th>
    </tr>
    <tr>
        <td>源代码 (Source code)</td>
        <td>[github.com/keybase/client](https://github.com/keybase/client)</td>
        <td>Keybase</td>
    </tr>
    <tr>
        <td>Ubuntu, Debian, 等</td>
        <td>[Keybase 安装页面](/docs/the_app/install_linux#ubuntu-debian-and-friends)</td>
        <td>Keybase</td>
    </tr>
    <tr>
        <td>Fedora, CentOS, 等</td>
        <td>[Keybase 安装页面](/docs/the_app/install_linux#fedora-red-hat)</td>
        <td>Keybase</td>
    </tr>
    <tr>
        <td>Arch AUR</td>
        <td>`keybase-bin` [(链接)](https://aur.archlinux.org/packages/keybase-bin/), [Keybase 安装页面](/docs/the_app/install_linux#arch-linux)</td>
        <td>Keybase</td>
    </tr>
    <tr>
        <td>Arch Community</td>
        <td>
            `keybase` [(链接)](https://www.archlinux.org/packages/community/x86_64/keybase/),
            `kbfs` [(链接)](https://www.archlinux.org/packages/community/x86_64/kbfs/),
            `keybase-gui` [(链接)](https://www.archlinux.org/packages/community/x86_64/keybase-gui/)
        </td>
        <td>Community</td>
    </tr>
    <tr>
        <td>Slackware</td>
        <td>
            `kbfs` [(链接)](https://www.slackbuilds.org/repository/14.2/system/kbfs/)
            (同时提供 keybase 和 gui)
        </td>
        <td>Community</td>
    </tr>
    <tr>
        <td>FreeBSD</td>
        <td>
            `keybase` [(链接)](https://www.freshports.org/security/keybase/),
            `kbfs` [(链接)](https://www.freshports.org/security/kbfs/),
            `kbfsd` [(链接)](https://www.freshports.org/security/kbfsd/),
        </td>
        <td>Community</td>
    </tr>
    <tr>
        <td>Nix</td>
        <td>
            `keybase` [(链接)](https://github.com/NixOS/nixpkgs/blob/release-19.03/pkgs/tools/security/keybase/default.nix) [(选项)](https://nixos.org/nixos/options.html#services.keybase),
            `kbfs` [(链接)](https://github.com/NixOS/nixpkgs/blob/release-19.03/pkgs/tools/security/kbfs/default.nix) [(选项)](https://nixos.org/nixos/options.html#services.kbfs),
            `keybase-gui` [(链接)](https://github.com/NixOS/nixpkgs/blob/release-19.03/pkgs/tools/security/keybase/gui.nix),
        </td>
        <td>Community</td>
    </tr>
    <tr>
        <td>Gentoo</td>
        <td>
            `keybase` [(链接)](https://packages.gentoo.org/packages/app-crypt/keybase),
            `kbfs` [(链接)](https://packages.gentoo.org/packages/app-crypt/kbfs)
        </td>
        <td>Community</td>
    </tr>
</table>
<h1 id="_1">}</h1>
<p>如果您是通过官方软件包安装的 Keybase，您应该可以使用 <code>run_keybase</code> 脚本，它会启动 Keybase、KBFS 和 GUI。</p>
<pre class="codehilite"><code class="language-bash">run_keybase
...
success!
</code></pre>

<p>现在 Keybase 正在运行，您可以创建一个账户或登录 GUI。登录后，您可以在 GUI 中进行证明、与朋友聊天、浏览您的 KBFS 文件。</p>
<h2 id="示例命令-example-commands">示例命令 (Example Commands)</h2>
<p>以下命令并非 Linux 特有，但展示了许多 Keybase 的功能。</p>
<pre class="codehilite"><code class="language-bash">keybase signup # 创建一个账户
keybase id # 打印您的用户名和证明
keybase prove twitter # 证明您的 twitter 身份
keybase prove -l # 列出可用的证明类型
keybase id {some-keybase-username} # 检查另一位用户的证明
keybase chat send {some-keybase-username} -m &quot;Hey! I'm on Keybase now!&quot; # 发送一条加密消息

# 查看此 github 用户是否在 Keybase 上
keybase id {some-github-username}@github

# 发送一条 (加密) 消息给一位 twitter 用户，*即使他们尚未加入 Keybase*
# (当他们加入时会收到消息)
keybase chat send {some-reddit-username}@reddit -m &quot;Hey! I'm on Keybase now!&quot;

# 为另一位 keybase 用户加密文件或消息，以便通过不安全的聊天频道发送
keybase encrypt {some-keybase-username} -m &quot;hello, world&quot;
BEGIN KEYBASE SALTPACK ENCRYPTED MESSAGE. kigG6zVjgVFCFLm GxarUYJUY9RGEoH ... e6lZF0EDl3VFSI4 jE0rHiCLJGYpSwk l1ohzskP1Myn9lz . END KEYBASE SALTPACK ENCRYPTED MESSAGE.

# 使用 paperkey 启动一个“一次性”临时设备，例如
# 用于在 Docker 容器中登录 Keybase
keybase oneshot --help

keybase help # 查看所有可用命令
</code></pre>

<p>随着 KBFS 的运行，您将能够向神奇的 <code>/keybase</code> 目录添加文件。此目录中的所有内容都在<em>您的机器上</em>加密，并与您的所有<a href="https://keybase.io/download">设备</a>同步。除非您选择将其公开或与其他用户共享，否则其他人（包括 Keybase）都无法访问您的文件。更多信息请访问 <a href="https://keybase.io/docs/kbfs/understanding_kbfs">理解 KBFS</a>。</p>
<pre class="codehilite"><code class="language-bash"># 添加一个公开文件，供 Keybase 上的任何人查看
echo &quot;hello, world&quot; &gt; /keybase/public/{your-username}/hello.txt

# 添加一个仅为您自己加密的私有文件
cp ~/documents/taxes.pdf /keybase/private/{your-username}/taxes.pdf

# 添加一个仅为您自己和某个网站所有者加密的私有文件，
# *即使他们尚未加入 keybase* (当他们加入并证明他们拥有该网站时，他们将获得该文件)
cp ~/documents/proposal.pdf /keybase/private/{your-username},example.com@https/proposal.pdf

# 添加一个在一群人之间私密共享的文件
cp ~/documents/resume.pdf /keybase/private/{your-username},{some-keybase-username}/resume.pdf

# 添加一个私密共享给 Keybase 团队的文件
mkdir /keybase/team/{your-team-name}/devops/backups/
mv ~/backups/database.tar.gz /keybase/team/{your-team-name}/devops/backups/database.tar.gz

# 创建一个在您的设备之间同步的私有加密 git 仓库
# 另见: https://keybase.io/blog/encrypted-git-for-everyone
keybase git create my-project

# 在没有挂载的情况下与 KBFS 交互
# 例如，在像 ChromiumOS 这样可能不提供 FUSE 的系统中很有用
keybase fs ls /keybase/team/
</code></pre>

<p>如果您使用的软件包不提供 keybase 重定向器，<code>/keybase</code> 可能不存在。在这种情况下，您的文件夹位于 <code>keybase config get -b mountdir</code> 给出的位置（<a href="#configuring-kbfs">稍后详细介绍</a>）。</p>
<p>如果您正在寻找可以交谈的人，请前往我们的 <a href="https://keybase.io/popular-teams">热门团队页面</a> 并在 GUI 中请求加入公共团队（或使用 <code>keybase team request-access</code>）。特别是 <code>keybasefriends</code>，它是开始一般性讨论和询问有关 Keybase 问题的好地方。有关团队的更多信息，请参阅 <a href="https://keybase.io/blog/introducing-keybase-teams">这里</a> 和 <a href="https://keybase.io/blog/new-team-features">这里</a>。</p>
<p>就是这样！在应用程序和命令行中还有更多功能可以尝试。</p>
<p>如果您只想使用 Keybase，则无需继续往下看，但以下部分详细介绍了高级主题，供希望更多地了解和控制 Keybase 在其系统上运行方式的用户参考。</p>
<h2 id="nightly-构建版本-nightly-builds">Nightly 构建版本 (Nightly Builds)</h2>
<p>我们现在提供 <code>.deb</code>, <code>.rpm</code>, 和 Arch nightly 构建版本！</p>
<p>标准免责声明：这些不是正式版本，可能会导致意外崩溃和不稳定。使用时请小心。</p>
<p>{# TODO: table</p>
<table class="padded-table">
    <tr>
        <th>格式 (Format)</th>
        <th>64位 (64-bit)</th>
        <th>32位 (32-bit)</th>
    </tr>
    <tr>
        <td>元数据 (Metadata)</td>
        <td colspan=2>[update-linux-prod.json](https://prerelease.keybase.io/nightly/update-linux-prod.json)</td>
    </tr>
    <tr>
        <td>`.deb`</td>
        <td>[keybase_amd64.deb](https://prerelease.keybase.io/nightly/keybase_amd64.deb) ([签名](https://prerelease.keybase.io/nightly/keybase_amd64.deb.sig))</td>
        <td>[keybase_i386.deb](https://prerelease.keybase.io/nightly/keybase_i386.deb) ([签名](https://prerelease.keybase.io/nightly/keybase_i386.deb.sig))</td>
    </tr>
    <tr>
        <td>`.rpm`</td>
        <td>[keybase_amd64.rpm](https://prerelease.keybase.io/nightly/keybase_amd64.rpm) ([签名](https://prerelease.keybase.io/nightly/keybase_amd64.rpm.sig))</td>
        <td>[keybase_i386.rpm](https://prerelease.keybase.io/nightly/keybase_i386.rpm) ([签名](https://prerelease.keybase.io/nightly/keybase_i386.rpm.sig))</td>
    <tr>
        <td>Arch Linux AUR</td>
        <td colspan=2>[keybase-git](https://aur.archlinux.org/packages/keybase-git/); 支持 64位, 32位, 和 ARM</td>
    </tr>
</table>
<h1 id="_2">}</h1>
<p>请注意，我们（尚）未提供 <code>.deb</code> 和 <code>.rpm</code> nightly 版本的软件包仓库：您需要手动执行 <code>dpkg -i</code> 或 <code>rpm -i</code> 来安装和更新到下一个 nightly 版本，而不是使用 <code>apt-get</code> 或 <code>yum</code>。但是，如果您在 Arch 上，只需重新安装 <code>keybase-git</code> 即可更新。</p>
<p>要启用实验性 GUI 功能，请创建一个 debug 文件：</p>
<pre class="codehilite"><code class="language-bash">$ cat ~/.cache/keybase/keybase.app.debug # 或者在您的 $XDG_CACHE_HOME/keybase
{ &quot;featureFlagsOverride&quot;: &quot;admin&quot; }
</code></pre>

<p>当然，这不会给您任何额外的访问权限，并且其中一些功能可能还需要服务器端授权，因此它们可能无法正常工作或根本无法工作。</p>
<p>如果您发现这些 nightly 版本有任何错误或问题，请<a href="#feedback-and-questions">报告它们</a>，我们会尽力尽快修复！请在问题标题中注明 <code>[NIGHTLY]</code>。</p>
<h2 id="自动启动-autostart">自动启动 (Autostart)</h2>
<p>如果您使用的是图形桌面环境（如 KDE 或 Gnome），Keybase 会在 <code>~/.config/autostart/keybase_autostart.desktop</code> 中安装一个自动启动桌面文件。如果您不想要此行为，可以在桌面环境设置中禁用它，或运行：</p>
<pre class="codehilite"><code class="language-bash">keybase ctl autostart --disable
</code></pre>

<p>如果您在无界面系统上，您可能希望使用 systemd 单元。如果您使用的是像 i3wm 这样的窗口管理器，您可以在启动时执行 <code>run_keybase</code>。如果您希望 Keybase 启动但不希望 GUI 最大化，请将命令更改为 <code>run_keybase -a</code>。您将能够从系统托盘中的图标打开 GUI。</p>
<p>当使用 <code>systemctl</code> 启动 GUI 时，您必须将 <code>KEYBASE_AUTOSTART=1</code> 导入环境，以便 GUI 启动但保持在后台。单元文件会在此之后立即取消设置此变量，因此后续调用将启动并最大化，除非再次设置该变量：</p>
<pre class="codehilite"><code class="language-bash">systemctl --user set-environment KEYBASE_AUTOSTART=1
</code></pre>

<h2 id="run_keybase"><code>run_keybase</code></h2>
<p><code>run_keybase</code> 接受更多用于控制 Keybase 的选项。</p>
<pre class="codehilite"><code class="language-bash">$ run_keybase -h
启动 Keybase 服务、KBFS 和 GUI。
如果服务已经在运行，它们将被重启。

选项也可以通过将相关环境变量设置为 1 来控制
  -a  启动后将 GUI 最小化到系统托盘 (env KEYBASE_AUTOSTART=1)
  -f  不启动 KBFS (env KEYBASE_NO_KBFS=1)
  -g  不启动 gui (env KEYBASE_NO_GUI=1)
  -h  打印此帮助文本
  -k  关闭所有 Keybase 服务 (env KEYBASE_KILL=1)
</code></pre>

<p>当 <code>run_keybase</code> 执行时，最多会启动四个后台进程：<code>keybase</code>, <code>kbfsfuse</code>, <code>Keybase</code>, 和 <code>keybase-redirector</code>。</p>
<ul>
<li><code>keybase</code> 是驱动所有其他 Keybase 操作的主服务，同时也提供命令行工具。如果您愿意，可以单独使用 <code>keybase</code>。</li>
<li><code>kbfsfuse</code> 允许您使用 KBFS 和 KBFS git，它依赖于 <code>keybase</code>。</li>
<li><code>Keybase</code> 是 GUI 应用程序，依赖于 <code>keybase</code> 和 <code>kbfsfuse</code>。</li>
<li><code>keybase-redirector</code> 提供神奇的 <code>/keybase</code> KBFS 目录，但使用 KBFS 并非必须。</li>
</ul>
<p>如果您的系统支持 systemd 用户管理器（Arch, Ubuntu, Debian），<code>run_keybase</code> 会尝试作为 systemd 用户管理器服务运行其进程，如果不支持，则回退到启动常规后台进程。</p>
<p>您可以通过以下命令查看是否正在通过 systemd 运行：</p>
<pre class="codehilite"><code class="language-bash">systemctl --user status keybase keybase.gui kbfs keybase-redirector
# (如果您没有该命令，则说明您没有使用 systemd)
</code></pre>

<p>如果您不想启动后台进程，可以尝试：</p>
<pre class="codehilite"><code class="language-bash">keybase --standalone {rest-of-command}
</code></pre>

<p>但并非所有 Keybase 功能（例如聊天）都支持此模式，并且可能会更慢。</p>
<h2 id="systemd-和运行无界面-keybase">systemd 和运行无界面 Keybase</h2>
<p>如果您在服务器上运行 Keybase，您可能希望对 Keybase 进行比 <code>run_keybase</code> 提供的更细粒度的控制。在这种情况下，您可以直接配置 systemd 单元，而无需使用 <code>run_keybase</code>。</p>
<p>请注意，<code>keybase</code> <em>不能</em>作为 root 运行，必须作为用户运行。因此，它在特定用户的 systemd 用户管理器下运行，而不是全局系统管理器。</p>
<p>首先，执行一些 systemd 单元所需的基本环境设置。</p>
<pre class="codehilite"><code class="language-bash">keybase ctl init
</code></pre>

<p>除其他事项外，这会将一些环境变量转发给 systemd 单元。如果它们发生变化，您需要再次运行此命令（或 <code>run_keybase</code>）以刷新它们。由于 systemd 单元不会自动转发用户环境，因此<em>不能</em>在 <code>ExecStartPre</code> 指令中自动运行此命令。但是，您可以选择在 shell 配置文件或 rc 文件中登录时运行它。具体来说，这会在 <code>~/.config/keybase/keybase.autogen.env</code>（或您的 <code>$XDG_CONFIG_HOME</code>）中创建一个文件。可以通过写入同一目录中的 <code>keybase.env</code> 或使用 <code>Environment</code> 指令创建 systemctl drop-in 配置来覆盖环境变量。</p>
<p>（可选）启用单元以在系统启动时自动启动。您可以选择其中一部分，但请记住 KBFS 依赖于 Keybase（如果尚未启动，它将启动它）。</p>
<pre class="codehilite"><code class="language-bash">systemctl --user enable keybase.service
systemctl --user enable kbfs.service
systemctl --user enable keybase-redirector.service
</code></pre>

<p>（可选）允许 Keybase 即使在您注销后也继续运行。如果您已通过 SSH 连接到服务器，您可以这样做，以便 Keybase 和 KBFS 在您的会话结束后继续工作。</p>
<pre class="codehilite"><code class="language-bash">loginctl enable-linger
</code></pre>

<p>接下来，启动 Keybase 服务。</p>
<pre class="codehilite"><code class="language-bash">systemctl --user start keybase.service
systemctl --user start kbfs.service
systemctl --user start keybase-redirector.service
</code></pre>

<p>现在，您应该能够从命令行使用 KBFS 和 Keybase。</p>
<pre class="codehilite"><code class="language-bash">keybase id
</code></pre>

<p>如果遇到问题，可以使用以下命令重启服务：</p>
<pre class="codehilite"><code class="language-bash">systemctl --user restart keybase kbfs keybase-redirector
</code></pre>

<p>请注意，GUI 也作为一个 systemd 单元运行。</p>
<pre class="codehilite"><code class="language-bash">systemctl --user start keybase.gui
</code></pre>

<p>要使其工作，您必须在 environmentfile 中配置 <code>$DISPLAY</code>，如果您按照上述说明配置了 environmentfile 或在会话中执行了 <code>run_keybase</code>，则应该已经是这种情况。当然，除非您配置了 X 转发，否则它在 ssh 会话中将无法工作。</p>
<p>如果您需要编辑 systemd 单元，请运行</p>
<pre class="codehilite"><code>systemctl --user edit {unit-name}
</code></pre>

<p>您将能够在 <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html">drop-in 目录</a> 中单独覆盖指令。如果您在升级后遇到问题，可能需要合并上游单元文件的更改，因此请仅将其作为最后的手段。</p>
<p>最后，如果您不希望 <code>run_keybase</code> 使用 systemd，可以导出 <code>KEYBASE_SYSTEMD=0</code>，它将回退到启动后台进程。如果它检测到您的系统不支持 systemd 用户管理器，它会自动执行此操作。</p>
<h2 id="示例systemd-定时器上的每日-kbfs-备份">示例：systemd 定时器上的每日 KBFS 备份</h2>
<p>现在您已了解基础知识，让我们看看如何在服务器上运行 Keybase 并每日备份到 KBFS（同样，加密并自动同步到您的所有其他 Keybase 设备，甚至是一组用户或团队！）。</p>
<p>除了 systemd 定时器，您也可以选择编写 cronjob。只需确保它作为您的用户 cronjob 运行，如果不使用 systemd，请先执行 <code>run_keybase</code>，以便 Keybase 服务在启动脚本之前启动。</p>
<p>请记住，您的 KBFS 配额（由 <code>keybase fs quota</code> 给出的）目前为 250GB。</p>
<p>按照上一节中的说明进行操作。现在，创建一个执行一次备份的 systemd 单元。它可能看起来像这样：</p>
<pre class="codehilite"><code class="language-bash">$ cat ~/.config/systemd/user/kbfs-backup.service
[Unit]
Requires=keybase.service kbfs.service keybase-redirector.service
Description=make a backup of my photos

[Service]
ExecStart=%h/scripts/run-kbfs-backup

$ cat ~/scripts/run-kbfs-backup
#!/bin/bash
set -euo pipefail

function date {
    date --utc +%Y%m%d_%H%M%SZ
}

keybase_username={your-keybase-username}
archive=&quot;backup-$(date).tar.gz&quot;
tar -czvf &quot;$HOME/$archive&quot; &quot;$HOME/photos&quot;
mkdir -p &quot;/keybase/private/$keybase_username/backups/&quot;
mv &quot;$HOME/$archive&quot; &quot;/keybase/private/$keybase_username/backups/$archive&quot;

$ chmod +x ~/scripts/run-kbfs-backup
</code></pre>

<p>当然，您可以使用 <code>rsync</code> 等工具改进这个简单的示例。</p>
<p>最后，创建一个定时器文件。它可能看起来像这样：</p>
<pre class="codehilite"><code class="language-bash">$ cat ~/.config/systemd/user/kbfs-backup.timer
[Unit]
Description=run kbfs-backup.service every weekday at noon

[Timer]
OnCalendar=Mon-Fri 12:00
Persistent=true

[Install]
WantedBy=timers.target

$ systemctl --user enable --now kbfs-backup.timer
</code></pre>

<p>完成了！您可以检查定时器的日志，并使用 <code>journalctl --user</code> 检查故障。</p>
<p>要手动运行一次备份，只需执行：</p>
<pre class="codehilite"><code class="language-bash">systemctl --user start kbfs-backup.timer
</code></pre>

<h2 id="配置-kbfs-configuring-kbfs">配置 KBFS (Configuring KBFS)</h2>
<p>有关 KBFS 工作原理的更多信息，请阅读 <a href="https://keybase.io/docs/kbfs/understanding_kbfs">理解 KBFS</a>。</p>
<p>在 Linux 上，<code>kbfsfuse</code> 将 FUSE 文件系统挂载到运行 Keybase 的用户拥有的目录。然后，<code>keybase-redirector</code> 挂载在 <code>/keybase</code>，并根据请求 KBFS 数据的用户显示 <code>/keybase</code> 的不同版本。</p>
<p>如果配置了 <code>$XDG_RUNTIME_USER</code>（通常由 systemd 配置），此挂载目录位于 <code>$XDG_RUNTIME_USER/keybase/kbfs/</code>，否则位于 <code>~/.config/keybase/kbfs</code>。此外，您的软件包维护者可能已将其预配置为其他位置。</p>
<p>要查看当前的挂载目录，请运行</p>
<pre class="codehilite"><code class="language-bash">keybase config get -b mountdir
</code></pre>

<p>您可以通过运行以下命令更改它：</p>
<pre class="codehilite"><code class="language-bash">keybase config set mountdir ~/another-mount-dir
run_keybase # 或重启 systemd 服务
</code></pre>

<p>在重启服务之前，请确保没有任何东西在使用 KBFS。另外，请注意不要将挂载目录设置在主目录中，以免像 <code>find</code> 或 <code>grep</code> 这样的工具意外爬取 KBFS。</p>
<p>最后，您可能希望禁用重定向器。这是一个管理员命令：它需要 root 权限。</p>
<p>您可以通过以下命令执行此操作：</p>
<pre class="codehilite"><code class="language-bash">sudo keybase --use-root-config-file ctl redirector --disable
</code></pre>

<p>或者通过以下命令重新打开它：</p>
<pre class="codehilite"><code class="language-bash">sudo keybase --use-root-config-file ctl redirector --enable
</code></pre>

<p>同样，在运行这些命令之前，请确保未使用 KBFS。启用的重定向器归 root 所有并设置了 setuid 位。当您禁用它时，该位被取消设置，用户将无法访问 <code>/keybase</code> 或运行重定向器。为了方便起见，用户可以包含类似以下内容</p>
<pre class="codehilite"><code class="language-bash">export keybase=&quot;$(keybase config get --direct --bare mountdir)&quot;
</code></pre>

<p>在他们的 shell 配置文件或 rc 文件中，以便他们可以通过 <code>$keybase/private/&lt;their-username&gt;</code> 等访问他们的文件。</p>
<h2 id="在没有-root-权限的情况下安装-keybase">在没有 Root 权限的情况下安装 Keybase</h2>
<p>Keybase 仅在使神奇的 <code>/keybase</code> 目录可用时使用 root 权限。</p>
<p>如果您想在没有 root 权限的情况下安装 Keybase，例如，您可以解压 <code>.deb</code> 文件并从那里运行二进制文件。如果您将二进制文件放在 <code>$PATH</code> 中，您甚至可以将提供的 systemd 单元文件符号链接到您的 <code>~/.config/systemd/user</code> 目录，并使用 systemd 用户管理器来管理您的自定义 Keybase 安装。请注意，KBFS 挂载将无法在 <code>/keybase</code> 访问，而是在用户可写的挂载目录访问（请参阅 <a href="#configuring-kbfs">配置 KBFS</a>）。</p>
<p>或者，您可以选择从源代码构建 Keybase 以完全自定义您的安装，如 <a href="#for-package-maintainers">对于软件包维护者</a> 中所述。</p>
<h2 id="对于软件包维护者-for-package-maintainers">对于软件包维护者 (For Package Maintainers)</h2>
<p>很高兴您有兴趣打包 Keybase！这涉及很多活动部件，因此打包可能会很棘手。</p>
<p>我们的脚本位于 https://github.com/keybase/client/tree/master/packaging/linux。</p>
<p>特别值得注意的是 <code>post_install.sh</code> 和 <code>run_keybase</code>。您不必打包这些，但您应该包含必要的配置和文档，以便用户能够使用 Keybase。</p>
<p>我们的代码签名指纹位于同一目录下的 <code>code_signing_fingerprint</code>，也可在 <a href="https://keybase.io/docs/server_security/our_code_signing_key">我们的网站</a> 上找到。</p>
<p>您还可以从 <a href="https://prerelease.keybase.io/linux_binaries/deb/index.html">我们的发布目录</a> 中的 <code>.deb</code> 文件中提取我们要构建的二进制文件，而不是从源代码构建。您可以选择将 Keybase、KBFS 和 GUI 全部打包在一起或分打包，但请确保指定了依赖关系。</p>
<p>如果您创建了一个软件包并希望被添加到本页顶部的列表中，请告诉我们。特别是 SysVinit 和 OpenRC 的 init 脚本可能会引起其他软件包维护者的兴趣。</p>
<h2 id="反馈和问题-feedback-and-questions">反馈和问题 (Feedback and Questions)</h2>
<p>我们的目标是使 Keybase 灵活，供从桌面用户到服务器管理员的所有人使用。</p>
<p>如果您认为发现了安全问题或错误，请参阅我们的 <a href="https://keybase.io/docs/bug_reporting">错误报告页面</a>。在提交错误报告时，请从命令行执行 <code>keybase log send</code>，以便开发人员可以更快地为您提供帮助。</p>
<p>如果您有功能请求，可以创建一个 <a href="https://github.com/keybase/client/issues/new">GitHub issue</a> 或加入 Keybase 上的 keybasefriends 团队并在 <code>#feature-requests</code> 频道发帖。或者如果您只需要一般帮助，请在 <code>#general</code> 频道发帖。</p>
            </section>
        </div>
    </div>
        <footer class="footer" data-footer-label="下一章">
        <a class="footer__link" href="/guides/pgp-in-javascript">
            <div class="footer__inner">
            <p class="footer__title" data-chapter-count="C">kbpgp.js</p>
                
            </div>
            <img alt="" class="footer__image" src="/static/img/illos/guides.jpg" loading="lazy" width="870"/>
        </a>
    </footer>
    
    <script src="/static/js/Nav.js" type="module" async></script>

    
        <script src="/static/js/vendor/gsap.min.js"></script>
        <script src="/static/js/vendor/katex.min.js"></script>
        <script src="/static/js/vendor/auto-render.min.js"></script>
        <script src="/static/js/docs.js" type="module" async></script>
    
      </main>
    </div>
    <footer class="site-footer">
  <div class="site-footer__inner">
    <a class="site-footer__brand" href="/">Keybase&nbsp;<span>Book</span></a>
    <ul class="site-footer__list">
      <li class="site-footer__list-item">
        <a class="site-footer__link" href="https://keybase.io/">Keybase Home</a>
      </li>
      <li class="site-footer__list-item">
        <a class="site-footer__link" href="https://github.com/keybase/book-content/issues">Bug Reporting</a>
      </li>
      <li class="site-footer__list-item">
        <a class="site-footer__link" href="https://keybase.io/docs/terms">Terms</a>
      </li>
      <li class="site-footer__list-item">
        <a class="site-footer__link" href="https://keybase.io/docs/privacypolicy">Privacy</a>
      </li>
      <li class="site-footer__list-item">
        <a class="site-footer__link" href="https://keybase.io/docs/acceptable-use-policy">Acceptable Use</a>
      </li>
    </ul>
    


<template id="link-android">
    <a href="https://keybase.io/_/download/keybase-for-android" class="download__button" aria-label="Download Keybase"><img src="https://keybase.io/images/getting-started/play_store_badge_320x94.png" alt="" style="width: 120px;"></a>
    <a class="download__link" href="https://keybase.io/download">Also available for iOS, Linux, Mac OS, and Windows</a>
</template>

<template id="link-ios">
    <a href="https://keybase.io/_/download/keybase-for-ios" class="download__button" aria-label="Download Keybase">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119.664 40">
    <path
    d="M110.135 0H9.535c-.367 0-.73 0-1.095.002-.306.002-.61.008-.919.013A13.215 13.215 0 005.517.19a6.665 6.665 0 00-1.9.627 6.438 6.438 0 00-1.62 1.18A6.258 6.258 0 00.82 3.617 6.601 6.601 0 00.195 5.52a12.993 12.993 0 00-.179 2.002c-.01.307-.01.615-.015.921V31.56c.005.31.006.61.015.921a12.992 12.992 0 00.18 2.002 6.588 6.588 0 00.624 1.905A6.208 6.208 0 001.998 38a6.274 6.274 0 001.618 1.179 6.7 6.7 0 001.901.63 13.455 13.455 0 002.004.177c.31.007.613.011.919.011.366.002.728.002 1.095.002h100.6c.36 0 .724 0 1.084-.002.304 0 .617-.004.922-.01a13.279 13.279 0 002-.178 6.804 6.804 0 001.908-.63A6.277 6.277 0 00117.666 38a6.395 6.395 0 001.182-1.614 6.604 6.604 0 00.619-1.905 13.506 13.506 0 00.185-2.002c.004-.31.004-.61.004-.921.008-.364.008-.725.008-1.094V9.536c0-.366 0-.73-.008-1.092 0-.306 0-.614-.004-.92a13.507 13.507 0 00-.185-2.003 6.618 6.618 0 00-.62-1.903 6.466 6.466 0 00-2.798-2.8 6.768 6.768 0 00-1.908-.627 13.044 13.044 0 00-2-.176c-.305-.005-.618-.011-.922-.013-.36-.002-.725-.002-1.084-.002z"
    fill="var(--color--content__text)"
    />
    <path
    d="M8.445 39.125c-.305 0-.602-.004-.904-.01a12.687 12.687 0 01-1.87-.164 5.884 5.884 0 01-1.656-.548 5.406 5.406 0 01-1.397-1.016 5.32 5.32 0 01-1.02-1.397 5.722 5.722 0 01-.544-1.657 12.414 12.414 0 01-.166-1.875c-.007-.21-.015-.913-.015-.913v-23.1s.009-.692.015-.895a12.37 12.37 0 01.165-1.872 5.755 5.755 0 01.544-1.662 5.373 5.373 0 011.015-1.398 5.565 5.565 0 011.402-1.023 5.823 5.823 0 011.653-.544A12.586 12.586 0 017.543.887l.902-.012h102.769l.913.013a12.385 12.385 0 011.858.162 5.938 5.938 0 011.671.548 5.594 5.594 0 012.415 2.42 5.763 5.763 0 01.535 1.649 12.995 12.995 0 01.174 1.887c.003.283.003.588.003.89.008.375.008.732.008 1.092v20.929c0 .363 0 .718-.008 1.075 0 .325 0 .623-.004.93a12.731 12.731 0 01-.17 1.853 5.739 5.739 0 01-.54 1.67 5.48 5.48 0 01-1.016 1.386 5.413 5.413 0 01-1.4 1.022 5.862 5.862 0 01-1.668.55 12.542 12.542 0 01-1.869.163c-.293.007-.6.011-.897.011l-1.084.002z"
    fill="var(--color--content__background)"
    />
    <path
    d="M24.997 19.89a5.146 5.146 0 012.45-4.318 5.268 5.268 0 00-4.15-2.244c-1.746-.183-3.44 1.045-4.33 1.045-.906 0-2.276-1.027-3.752-.997a5.527 5.527 0 00-4.65 2.837c-2.012 3.482-.512 8.6 1.415 11.414.963 1.378 2.09 2.918 3.564 2.863 1.442-.06 1.981-.92 3.722-.92 1.725 0 2.23.92 3.734.886 1.548-.026 2.523-1.385 3.453-2.776a11.4 11.4 0 001.58-3.216 4.973 4.973 0 01-3.036-4.575zm-2.841-8.413a5.067 5.067 0 001.16-3.63 5.155 5.155 0 00-3.336 1.726 4.821 4.821 0 00-1.19 3.495 4.263 4.263 0 003.366-1.591zM42.302 27.14h-4.734l-1.136 3.356h-2.005l4.483-12.418h2.083l4.484 12.418h-2.04zm-4.243-1.55h3.752l-1.85-5.446h-.052zm17.101.38c0 2.813-1.507 4.62-3.78 4.62a3.07 3.07 0 01-2.848-1.583h-.043v4.484h-1.858V21.442h1.799v1.506h.034a3.212 3.212 0 012.883-1.6c2.298 0 3.812 1.816 3.812 4.622zm-1.911 0c0-1.833-.947-3.038-2.393-3.038-1.42 0-2.375 1.23-2.375 3.038 0 1.824.956 3.046 2.375 3.046 1.446 0 2.393-1.197 2.393-3.046zm11.876 0c0 2.813-1.507 4.62-3.78 4.62a3.07 3.07 0 01-2.848-1.583h-.043v4.484h-1.858V21.442h1.799v1.506h.034a3.212 3.212 0 012.883-1.6c2.297 0 3.813 1.816 3.813 4.622zm-1.911 0c0-1.833-.947-3.038-2.393-3.038-1.42 0-2.375 1.23-2.375 3.038 0 1.824.955 3.046 2.375 3.046 1.446 0 2.393-1.197 2.393-3.046zm8.496 1.066c.137 1.232 1.333 2.04 2.968 2.04 1.567 0 2.694-.808 2.694-1.919 0-.964-.68-1.54-2.29-1.936l-1.609-.388c-2.28-.55-3.339-1.617-3.339-3.348 0-2.142 1.867-3.614 4.518-3.614 2.625 0 4.424 1.472 4.484 3.614H77.26c-.112-1.239-1.136-1.987-2.634-1.987s-2.521.757-2.521 1.858c0 .878.654 1.395 2.255 1.79l1.368.336c2.548.603 3.605 1.626 3.605 3.443 0 2.323-1.85 3.778-4.793 3.778-2.753 0-4.613-1.42-4.733-3.667zM83.346 19.3v2.142h1.722v1.472h-1.722v4.991c0 .776.345 1.137 1.102 1.137a5.808 5.808 0 00.611-.043v1.463a5.104 5.104 0 01-1.032.086c-1.833 0-2.548-.689-2.548-2.445v-5.189h-1.316v-1.472h1.316V19.3zm2.718 6.67c0-2.849 1.678-4.639 4.294-4.639 2.625 0 4.295 1.79 4.295 4.639 0 2.856-1.661 4.638-4.295 4.638-2.633 0-4.294-1.782-4.294-4.638zm6.695 0c0-1.954-.895-3.108-2.401-3.108s-2.401 1.162-2.401 3.108c0 1.962.895 3.106 2.4 3.106s2.402-1.144 2.402-3.106zm3.426-4.528h1.773v1.541H98a2.16 2.16 0 012.177-1.635 2.866 2.866 0 01.637.069v1.738a2.598 2.598 0 00-.835-.112 1.873 1.873 0 00-1.937 2.083v5.37h-1.858zm13.198 6.395c-.25 1.643-1.85 2.771-3.898 2.771-2.634 0-4.269-1.764-4.269-4.595 0-2.84 1.644-4.682 4.19-4.682 2.506 0 4.08 1.72 4.08 4.466v.637h-6.394v.112a2.358 2.358 0 002.436 2.564 2.048 2.048 0 002.09-1.273zm-6.282-2.702h4.526a2.177 2.177 0 00-2.22-2.298 2.292 2.292 0 00-2.306 2.298zM37.826 8.731a2.64 2.64 0 012.808 2.965c0 1.906-1.03 3.002-2.808 3.002h-2.155V8.73zm-1.228 5.123h1.125a1.876 1.876 0 001.967-2.146 1.881 1.881 0 00-1.967-2.134h-1.125zm5.082-1.41a2.133 2.133 0 114.248 0 2.134 2.134 0 11-4.247 0zm3.334 0c0-.976-.439-1.547-1.208-1.547-.773 0-1.207.571-1.207 1.547 0 .984.434 1.55 1.207 1.55.77 0 1.208-.57 1.208-1.55zm6.559 2.254h-.922l-.93-3.317h-.07l-.927 3.317h-.913l-1.242-4.503h.902l.806 3.436h.067l.926-3.436h.852l.926 3.436h.07l.803-3.436h.889zm2.281-4.503h.855v.715h.066a1.348 1.348 0 011.344-.802 1.465 1.465 0 011.559 1.675v2.915h-.889v-2.692c0-.724-.314-1.084-.972-1.084a1.033 1.033 0 00-1.075 1.141v2.635h-.888zm5.24-1.758h.888v6.26h-.888zm2.124 4.007a2.133 2.133 0 114.247 0 2.134 2.134 0 11-4.247 0zm3.333 0c0-.976-.439-1.547-1.208-1.547-.773 0-1.207.571-1.207 1.547 0 .984.434 1.55 1.207 1.55.77 0 1.208-.57 1.208-1.55zm1.849.98c0-.81.604-1.278 1.676-1.344l1.22-.07v-.389c0-.475-.315-.744-.922-.744-.497 0-.84.182-.939.5h-.86c.09-.773.818-1.27 1.84-1.27 1.128 0 1.765.563 1.765 1.514v3.077h-.855v-.633h-.07a1.515 1.515 0 01-1.353.707 1.36 1.36 0 01-1.501-1.348zm2.895-.384v-.377l-1.1.07c-.62.042-.9.253-.9.65 0 .405.351.64.834.64a1.062 1.062 0 001.166-.983zm2.053-.596c0-1.423.732-2.324 1.87-2.324a1.484 1.484 0 011.38.79h.067V8.437h.888v6.26h-.851v-.71h-.07a1.563 1.563 0 01-1.415.785c-1.145 0-1.869-.901-1.869-2.328zm.918 0c0 .955.45 1.53 1.203 1.53.75 0 1.212-.583 1.212-1.526 0-.938-.468-1.53-1.212-1.53-.748 0-1.203.58-1.203 1.526zm6.964 0a2.133 2.133 0 114.247 0 2.134 2.134 0 11-4.247 0zm3.333 0c0-.976-.438-1.547-1.208-1.547-.772 0-1.207.571-1.207 1.547 0 .984.435 1.55 1.207 1.55.77 0 1.208-.57 1.208-1.55zm2.107-2.249h.855v.715h.066a1.348 1.348 0 011.344-.802 1.465 1.465 0 011.559 1.675v2.915h-.889v-2.692c0-.724-.314-1.084-.972-1.084a1.033 1.033 0 00-1.075 1.141v2.635h-.889zm8.845-1.121v1.141h.976v.749h-.976v2.315c0 .472.194.679.637.679a2.967 2.967 0 00.339-.021v.74a2.916 2.916 0 01-.484.046c-.988 0-1.381-.348-1.381-1.216v-2.543h-.715v-.749h.715V9.074zm2.19-.637h.88v2.481h.07a1.386 1.386 0 011.374-.806 1.483 1.483 0 011.55 1.679v2.907h-.889V12.01c0-.72-.335-1.084-.963-1.084a1.052 1.052 0 00-1.134 1.142v2.63h-.888zm9.056 5.045a1.828 1.828 0 01-1.95 1.303 2.045 2.045 0 01-2.081-2.325 2.077 2.077 0 012.076-2.352c1.253 0 2.009.856 2.009 2.27v.31h-3.18v.05a1.19 1.19 0 001.2 1.29 1.08 1.08 0 001.07-.546zm-3.126-1.451h2.275a1.086 1.086 0 00-1.109-1.167 1.152 1.152 0 00-1.166 1.167z"
    fill="var(--color--content__text)"
    />
</svg>
    </a>
    <a class="download__link" href="https://keybase.io/download">Also available for Android, Linux, Mac OS, and Windows</a>
</template>

<template id="link-linux">
    <a href="https://keybase.io/docs/the_app/install_linux" class="download__button" aria-label="Download Keybase">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 40">
    <path fill="var(--color--content__text)" d="M0 0h120v40H0z"/>
    <path fill="var(--color--content__background)" d="M1 1h118v38H1z"/>
    <path fill="var(--color--content__text)" d="M100.4 8a6 6 0 00-.5 0c-4.2.4-3.1 4.8-3.2 6.3 0 1.1-.3 2-1 3-.9 1-2.1 2.8-2.7 4.6-.3.8-.4 1.6-.3 2.5h-.1l-.7 1-.8.3c-.3.2-.6.3-.8.7l-.2.6v.5c.1.4.2.8.1 1-.2.7-.3 1.2 0 1.5 0 .3.4.5.8.6.9.2 2 .1 2.8.6 1 .5 1.9.7 2.6.5.6-.1 1-.5 1.2-1l2.3-.3c.7 0 1.6.3 2.6.2l.1.3c.4.8 1.1 1.2 1.9 1.1.8 0 1.6-.5 2.2-1.3.7-.8 1.7-1 2.4-1.5.4-.2.7-.5.7-.9s-.2-.8-.7-1.3v-.1c-.2-.2-.3-.6-.4-1 0-.4-.2-.8-.5-1l-.2-.2h-.2c.5-1.3.3-2.6-.1-3.7-.6-1.4-1.5-2.6-2.2-3.5-.8-1-1.6-2-1.6-3.4 0-2.1.3-6-3.5-6.1zm.5 3.4c.2 0 .4 0 .6.2l.5.5.1.8v-.1.1l-.1.7-.2.3h-.1l-.3-.2h-.2l.1-.2.1-.4v-.5l-.2-.3-.3-.1-.3.1-.2.3v.7l-.6-.2V13v-.8l.5-.5.6-.2zm-3 0l.5.2c.1.1.3.3.3.5l.2.6v.3l-.1.1-.4.2V13v-.3l-.2-.3h-.4l-.1.4v.6c0 .2.1.2.2.3l-.2.2c-.2 0-.3-.2-.4-.4l-.1-.6a1.8 1.8 0 01.3-1.2c.2-.2.3-.2.5-.2zm1.4 1.8c.4 0 .8 0 1.2.4l1.1.4.5.4v-.1.5c-.1.3-.5.6-1 .8l-.8.5c-.3.1-.6.3-1 .3l-.5-.1-.3-.2-.6-.5c-.4-.2-.7-.5-.7-.7-.1-.3 0-.5.2-.6l.4-.3.2-.2.9-.6h.4zm2.8 2.1a24 24 0 001.8 4.5c.2.5.8 1.6 1 3h.6c.6-1.6-.6-3.4-1.1-3.9-.2-.2-.2-.3-.1-.3.6.5 1.3 1.5 1.6 2.7.1.6.2 1.1 0 1.7h.2c1 .6 1.5 1 1.3 1.6h-.2c.1-.5-.2-.9-1-1.3-1-.4-1.7-.3-1.9.5v.1l-.2.1c-.4.3-.7.7-.8 1.2l-.2 1.9-.3 1.3c-1.5 1-3.6 1.5-5.4.3l-.4-.5-.2-.3h.4l.3-.4c.2-.3 0-.7-.3-1.2s-1-1-1.8-1.5c-.6-.4-1-.9-1.1-1.4-.2-.5-.2-1 0-1.6.2-1.1.8-2.2 1.2-2.8l-.4 1c-.4.7-1.1 2.5-.1 3.8 0-1 .2-2 .6-2.9.6-1.2 1.8-3.5 1.9-5.2l.3.2.6.4c.2.2.4.4.8.4h.1c.5 0 .8-.2 1-.3l.8-.4a2 2 0 001-.7zm2.2 9c0 .6.4 1.2.9 1.3.6.2 1.4-.3 1.8-.7h.2c.3 0 .6 0 .8.2.3.2.4.6.4 1l.4 1c.5.5.7.9.7 1.1 0 .3-.2.4-.5.6-.6.4-1.8.7-2.5 1.6-.6.7-1.3 1.1-2 1.2-.7 0-1.2-.2-1.6-1-.2-.3-.1-1 0-1.6.2-.7.5-1.4.5-2l.2-1.7c.1-.5.3-.8.7-1zm-10.8 0h.2c.3 0 .7.4 1 .8l.9 1.6c.2.6.8 1.1 1.2 1.7.4.6.8 1.1.7 1.6 0 .7-.5 1.1-1.1 1.3-.7.1-1.5 0-2.4-.5-1-.5-2.1-.5-2.9-.6-.3 0-.6-.2-.7-.4l.1-1.2c.2-.4 0-.8 0-1.2v-.9c.2-.3.5-.4.7-.5.3-.2.7-.2 1-.5l.6-.8c.2-.2.4-.4.7-.4zm7.2-9c-.5.1-1 .5-1.5.5-.6 0-1-.3-1.3-.5l-.4-.3c-.1-.2-.1-.4 0-.4l.1.2.4.4c.3.2.7.4 1.2.4s1-.2 1.4-.4l.6-.5.3-.3-.2.4-.6.4zm-1.1-1.6v-.1h.3l.1.1-.1.1h-.2l-.1-.1zm-.6 0H99l-.2.1h-.1l.1-.2h.3zM18.1 14v-.9h-3.6v1.3h1.9v.1c0 1-.9 1.8-2 1.8-1.4 0-2.3-1.1-2.3-3 0-1.8.8-2.8 2.2-2.8 1 0 1.7.5 2 1.4H18c-.2-1.7-1.7-2.9-3.7-2.9-2.5 0-4 1.6-4 4.3 0 2.8 1.5 4.4 4 4.4 2.4 0 3.8-1.3 3.8-3.6zM22 12.5c.7 0 1.2.5 1.3 1.3h-2.7c0-.8.6-1.3 1.3-1.3zm1.3 3.2c-.2.5-.6.8-1.3.8-.8 0-1.4-.6-1.4-1.5v-.1h4.3v-.6c0-1.9-1.1-3.1-3-3.1-1.8 0-3 1.3-3 3.3 0 2 1.2 3.2 3 3.2 1.6 0 2.8-.8 3-2h-1.6zM26.3 9.9v1.4h-1v1.3h1V16c0 1.2.5 1.7 2 1.7h.8v-1.3h-.4c-.5 0-.7-.2-.7-.7v-3H29v-1.3H28V10h-1.7zM34.4 17.6V15l.7-1 2.6 3.6h2l-3.3-4.7 3.2-3.8h-2L34.4 13V9.1h-1.8v8.5h1.8zM42.8 12.5c.7 0 1.3.5 1.3 1.3h-2.7c0-.8.6-1.3 1.4-1.3zm1.3 3.2c-.1.5-.6.8-1.2.8-1 0-1.5-.6-1.5-1.5v-.1h4.3v-.6c0-1.9-1.1-3.1-3-3.1-1.8 0-3 1.3-3 3.3 0 2 1.2 3.2 3.1 3.2 1.6 0 2.7-.8 2.9-2h-1.6zM47.3 20c1.6 0 2.4-.6 3-2.3l2.1-6.4h-1.8l-1.3 5-1.4-5h-1.8l2.1 6.3v.3c-.1.5-.4.7-1 .7h-.5v1.3h.6zM56.8 17.7c1.6 0 2.5-1.2 2.5-3.2s-1-3.3-2.5-3.3a2 2 0 00-2 1.2V9.1h-1.7v8.5h1.7v-1a2 2 0 002 1.1zm-.6-5.1c.9 0 1.4.7 1.4 1.9 0 1.1-.5 1.8-1.4 1.8-.8 0-1.4-.7-1.4-1.8 0-1.2.6-2 1.4-2zM62.7 16.5c-.6 0-1-.3-1-.8 0-.4.4-.7 1-.8H64v.4c0 .7-.6 1.2-1.3 1.2zm-.6 1.2c.8 0 1.6-.4 2-1v.9h1.6v-4.3c0-1.3-1-2.1-2.7-2.1-1.6 0-2.7.8-2.7 2h1.5c.1-.4.5-.7 1.2-.7.6 0 1 .3 1 .9v.4l-1.6.1c-1.5 0-2.4.8-2.4 1.9 0 1.1 1 1.9 2.1 1.9zM66.7 13.2c0 1 .6 1.5 1.8 1.8l1.1.2c.6.1.8.3.8.7 0 .4-.4.6-1 .6-.7 0-1-.3-1.2-.8h-1.7c.2 1.2 1.2 2 2.9 2 1.6 0 2.7-.8 2.7-2 0-1-.5-1.4-1.8-1.7l-1-.3c-.7 0-1-.3-1-.6 0-.4.4-.7 1-.7.7 0 1 .3 1.1.8H72c0-1.2-1-2-2.7-2-1.6 0-2.6.8-2.6 2zM75.8 12.5c.8 0 1.3.5 1.3 1.3h-2.6c0-.8.6-1.3 1.3-1.3zm1.3 3.2c-.1.5-.6.8-1.2.8-.9 0-1.5-.6-1.5-1.5v-.1h4.4v-.6c0-1.9-1.2-3.1-3-3.1-1.9 0-3 1.3-3 3.3 0 2 1.1 3.2 3 3.2 1.6 0 2.7-.8 3-2H77zM10.9 31.6h1.7v-5h1.2v-1.3h-1.3V25c0-.4.3-.7.8-.7h.5v-1a5 5 0 00-.9-.1c-1.5 0-2 .5-2 1.8v.4H10v1.3h.9v5zM17.4 31.7c1.9 0 3-1.2 3-3.2s-1.1-3.3-3-3.3-3.1 1.2-3.1 3.3c0 2 1.2 3.2 3 3.2zm0-1.3c-.9 0-1.4-.7-1.4-2 0-1.2.6-2 1.4-2 .8 0 1.4.8 1.4 2 0 1.3-.6 2-1.4 2zM21.4 31.6H23v-3.5c0-.9.5-1.4 1.3-1.4h.6v-1.4h-.4c-.8 0-1.3.4-1.5 1.2v-1.2h-1.7v6.3zM33.7 30.1H30v-7h-1.7v8.5h5.4v-1.5zM34.7 31.6h1.7v-6.3h-1.7v6.3zm.8-7.1c.5 0 1-.4 1-1 0-.4-.5-.8-1-.8a.9.9 0 100 1.8zM37.5 31.6h1.7V28c0-.8.5-1.4 1.3-1.4s1.1.5 1.1 1.3v3.7h1.8v-4c0-1.5-.8-2.4-2.2-2.4-1 0-1.7.5-2 1.2v-1h-1.7v6.2zM50.2 25.3h-1.7V29c0 .9-.4 1.4-1.2 1.4-.8 0-1.2-.5-1.2-1.3v-3.7h-1.7v4c0 1.5 1 2.4 2.3 2.4 1 0 1.5-.4 1.9-1.2v1.1h1.6v-6.3zM54 29.4l1.1 2.2H57l-2-3.2 2-3h-1.9l-1 2H54l-1.1-2h-2l2 3-2 3.2h1.8l1.2-2.2z"/>
</svg>
        </a>
    <a class="download__link" href="https://keybase.io/download">Also available for Android, iOS, Mac OS, and Windows</a>
</template>

<template id="link-mac">
    <a href="https://keybase.io/docs/the_app/install_macos" class="download__button" aria-label="Download Keybase">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 120 40">
  <path fill="var(--color--content__text)" d="M0 0h120v40H0z"/>
  <path fill="var(--color--content__background)" d="M1 1h118v38H1z"/>
  <path fill="var(--color--content__text)" d="M15.2617 13.4492v-.9551h-3.5625v1.2891h1.8399l-.0059.1348c-.0352 1.0488-.8379 1.7578-1.9922 1.7578-1.4062 0-2.29686-1.1192-2.29686-2.9531 0-1.7989.83786-2.85942 2.23246-2.85942.955 0 1.6757.52732 1.9336 1.41212h1.7753c-.2519-1.71095-1.7402-2.87696-3.7148-2.87696-2.48437 0-4.03125 1.64066-4.03125 4.34766 0 2.748 1.54688 4.4004 4.07225 4.4004 2.3555 0 3.75-1.3945 3.75-3.6973zM19.1055 11.8496c.7617 0 1.2832.5508 1.3183 1.3535h-2.666c.0586-.7851.5977-1.3535 1.3477-1.3535zm1.3418 3.2285c-.1582.4805-.6387.791-1.2657.791-.873 0-1.4414-.6152-1.4414-1.5117v-.1054h4.3301v-.5215c0-1.9102-1.1543-3.1465-2.9824-3.1465-1.8574 0-3.0293 1.3008-3.0293 3.3047 0 2.0097 1.1602 3.2461 3.0937 3.2461 1.5528 0 2.6778-.8262 2.8653-2.0567h-1.5703zM23.4121 9.27148v1.44732h-.8848v1.289h.8848v3.2988c0 1.2246.5742 1.7168 2.0508 1.7168.3457 0 .6387-.0293.8144-.0703v-1.2597c-.1054.0175-.2636.0293-.416.0293-.5039 0-.7383-.2286-.7383-.709v-3.0059h1.1602v-1.289H25.123V9.27148h-1.7109zM31.5156 17v-2.584l.791-.9492L34.8145 17h2.1152l-3.3457-4.7051 3.1289-3.74998h-1.9688l-3.1757 3.85548h-.0528V8.54492h-1.7695V17h1.7695zM39.9414 11.8496c.7617 0 1.2832.5508 1.3184 1.3535h-2.666c.0585-.7851.5976-1.3535 1.3476-1.3535zm1.3418 3.2285c-.1582.4805-.6387.791-1.2656.791-.8731 0-1.4414-.6152-1.4414-1.5117v-.1054h4.33v-.5215c0-1.9102-1.1542-3.1465-2.9824-3.1465-1.8574 0-3.0293 1.3008-3.0293 3.3047 0 2.0097 1.1602 3.2461 3.0938 3.2461 1.5527 0 2.6777-.8262 2.8652-2.0567h-1.5703zM44.5059 19.3262c1.5996 0 2.3906-.5742 2.9238-2.1856l2.1621-6.4218h-1.8047l-1.3301 4.9101h-.0351l-1.336-4.9101h-1.875l2.1856 6.2871c.0058.0234-.0586.2753-.0586.2988-.1172.498-.4277.6973-1.0488.6973-.0645 0-.375 0-.4336-.0118v1.3184c.0586.0117.5859.0176.6504.0176zM53.957 17.0996c1.5821 0 2.5489-1.2187 2.5489-3.2402 0-2.0274-.9727-3.2403-2.5547-3.2403-.8965 0-1.5938.4454-1.9395 1.1895h-.0351V8.54492h-1.711V17h1.6875v-1.0781h.0352c.3457.7324 1.0488 1.1777 1.9687 1.1777zm-.5918-5.1094c.8496 0 1.3887.7266 1.3887 1.8692 0 1.1484-.5332 1.8633-1.3887 1.8633-.832 0-1.3945-.7266-1.3945-1.8633 0-1.125.5684-1.8692 1.3945-1.8692zM59.8223 15.8633c-.5801 0-.9668-.293-.9668-.7617 0-.4454.3633-.7325 1.0019-.7793l1.3242-.0821v.4571c0 .6797-.6152 1.166-1.3593 1.166zm-.5625 1.2363c.7851 0 1.5644-.3926 1.916-1.0605h.0351V17h1.6524v-4.3184c0-1.2656-1.0488-2.0976-2.6602-2.0976-1.664 0-2.7011.8379-2.7656 2.0566h1.5645c.082-.4629.4863-.7793 1.125-.7793.6445 0 1.0546.3399 1.0546.9258v.416l-1.582.0938c-1.5644.0937-2.4434.7558-2.4434 1.8984 0 1.1309.9083 1.9043 2.1036 1.9043zM63.8652 12.5645c0 .9433.6153 1.5527 1.8282 1.8105l1.0722.2227c.6153.1406.8321.3281.8321.6621 0 .4101-.3985.6738-1.043.6738-.6797 0-1.0723-.293-1.1777-.8438h-1.67c.1114 1.2364 1.1133 2.045 2.8477 2.045 1.6172 0 2.748-.8145 2.748-2.0508 0-.9199-.539-1.4356-1.8515-1.711l-1.0723-.2285c-.6328-.1347-.8672-.3515-.8672-.6738 0-.416.3926-.6855.9844-.6855.6328 0 1.0137.3457 1.0664.8554h1.5762c-.0352-1.2304-1.0313-2.0566-2.6426-2.0566-1.5996 0-2.6309.7851-2.6309 1.9805zM72.9648 11.8496c.7618 0 1.2832.5508 1.3184 1.3535h-2.666c.0586-.7851.5976-1.3535 1.3476-1.3535zm1.3418 3.2285c-.1582.4805-.6386.791-1.2656.791-.873 0-1.4414-.6152-1.4414-1.5117v-.1054h4.3301v-.5215c0-1.9102-1.1543-3.1465-2.9824-3.1465-1.8575 0-3.0293 1.3008-3.0293 3.3047 0 2.0097 1.1601 3.2461 3.0937 3.2461 1.5528 0 2.6778-.8262 2.8653-2.0567h-1.5704zM8.01367 31h1.71094v-4.9922h1.20699V24.748H9.68359v-.416c0-.4453.2461-.6914.80861-.6914.1699 0 .3398.0117.4629.0352v-1.1309c-.1992-.041-.5567-.0761-.8731-.0761-1.48825 0-2.06833.5742-2.06833 1.8046v.4746H7.1582v1.2598h.85547V31zM14.541 31.1348c1.8985 0 3.1113-1.2129 3.1113-3.2813 0-2.039-1.2304-3.2695-3.1113-3.2695-1.8808 0-3.1113 1.2363-3.1113 3.2695 0 2.0625 1.2129 3.2813 3.1113 3.2813zm0-1.3067c-.8437 0-1.3769-.709-1.3769-1.9687 0-1.2481.5449-1.9688 1.3769-1.9688s1.3711.7207 1.3711 1.9688c0 1.2597-.5332 1.9687-1.3711 1.9687zM18.5371 31h1.7109v-3.5098c0-.8847.4922-1.4004 1.336-1.4004.2461 0 .4805.0411.6211.0997v-1.5059c-.1172-.0352-.2871-.0645-.4863-.0645-.7383 0-1.2715.4336-1.4942 1.2305h-.0351v-1.1308h-1.6524V31zM25.2871 31h1.7109v-3.791c0-.7031.4395-1.1953 1.0899-1.1953.6328 0 1.0137.3984 1.0137 1.0722V31h1.6464v-3.8145c0-.6972.4278-1.1718 1.0782-1.1718.6621 0 1.0254.3984 1.0254 1.125V31h1.7109v-4.2891c0-1.2656-.8262-2.1093-2.0566-2.1093-.92 0-1.67.498-1.9512 1.289h-.0352c-.2109-.8203-.8437-1.289-1.7519-1.289-.8555 0-1.5293.498-1.793 1.2539h-.0351v-1.1367h-1.6524V31zM38.0723 29.8633c-.5801 0-.9668-.293-.9668-.7617 0-.4454.3633-.7325 1.0019-.7793l1.3242-.0821v.4571c0 .6797-.6152 1.166-1.3593 1.166zm-.5625 1.2363c.7851 0 1.5644-.3926 1.916-1.0605h.0351V31h1.6524v-4.3184c0-1.2656-1.0488-2.0976-2.6602-2.0976-1.664 0-2.7011.8379-2.7656 2.0566h1.5645c.082-.4629.4863-.7793 1.125-.7793.6445 0 1.0546.3399 1.0546.9258v.416l-1.582.0938c-1.5644.0937-2.4434.7558-2.4434 1.8984 0 1.1309.9083 1.9043 2.1036 1.9043zM47.9277 27.0566c-.0761-1.4238-1.1543-2.4726-2.8535-2.4726-1.8808 0-3.082 1.2539-3.082 3.2695 0 2.0508 1.2012 3.2813 3.0937 3.2813 1.6524 0 2.7598-.9551 2.8477-2.4375h-1.5938c-.1054.6855-.5507 1.0957-1.2363 1.0957-.8496 0-1.3769-.7032-1.3769-1.9395 0-1.2129.5273-1.9277 1.3711-1.9277.7031 0 1.1425.4687 1.2421 1.1308h1.5879zM52.7207 22.3984c-2.5078 0-4.0781 1.6817-4.0781 4.377 0 2.6894 1.5703 4.3711 4.0781 4.3711 2.502 0 4.0781-1.6817 4.0781-4.3711 0-2.6953-1.5761-4.377-4.0781-4.377zm0 1.4766c1.3828 0 2.2676 1.125 2.2676 2.9004 0 1.7695-.8848 2.8887-2.2676 2.8887-1.3887 0-2.2734-1.1192-2.2734-2.8887 0-1.7754.8906-2.9004 2.2734-2.9004zM57.6191 28.5859c.0528 1.5938 1.3946 2.5606 3.4102 2.5606 2.1152 0 3.4102-1.0488 3.4102-2.7012 0-1.2832-.7793-2.0039-2.5665-2.3613l-.8964-.1817c-.9961-.1992-1.4063-.5214-1.4063-1.0429 0-.6211.5859-1.0313 1.459-1.0313.8906 0 1.5176.4336 1.5762 1.1543h1.6699c-.0293-1.5527-1.2715-2.584-3.2461-2.584-1.8809 0-3.2285 1.0254-3.2285 2.5723 0 1.2598.8262 2.0684 2.5137 2.4023l.8906.1758c1.0605.2168 1.459.5332 1.459 1.0899 0 .6211-.6446 1.0781-1.5879 1.0781-.961 0-1.6758-.4219-1.7871-1.1309h-1.67zM94.7091 29.5758c-.4611-.2895-.8705-.644-1.2126-1.0535-.3734-.4242-.7194-.8703-1.0372-1.3321-.7466-1.026-1.3305-2.1483-1.7351-3.331C90.2369 22.4831 90 21.1657 90 19.8767c0-1.4383.3314-2.6934.9767-3.7469.4776-.8246 1.1892-1.5144 2.047-1.999.8285-.4856 1.7936-.7513 2.7683-.7696.3412 0 .7116.0458 1.1015.1374.2827.0733.6238.1924 1.043.339.5361.1924.8285.3115.926.339.3119.1099.5751.1557.7798.1557.156 0 .3797-.0458.6287-.1191.141-.0458.409-.1282.79-.284.376-.1283.674-.2382.911-.3206.361-.1008.71-.1924 1.023-.2382.381-.055.758-.0733 1.12-.0458.692.0458 1.325.1832 1.891.3847.994.3757 1.796.962 2.395 1.7957-.254.1465-.488.3169-.707.5038-.475.394-.877.8612-1.199 1.3788-.419.7054-.634 1.5025-.628 2.3087.015.9921.283 1.8643.819 2.6201.377.5497.881 1.0206 1.495 1.4072.302.1924.568.3252.819.4122-.117.3436-.246.678-.395 1.0078-.338.7393-.741 1.4475-1.218 2.1162-.421.5772-.753 1.0078-1.004 1.2918-.392.4397-.77.7695-1.15 1.005-.42.2611-.912.3994-1.416.3994-.341.0138-.682-.0275-1.008-.1163-.282-.0871-.561-.1851-.834-.2959-.286-.1228-.581-.2272-.882-.3115-.371-.0916-.751-.1356-1.1349-.1347-.3899 0-.77.0458-1.1307.1328-.3022.0807-.5946.1796-.8841.2978-.4094.1603-.6774.2657-.8334.3115-.3158.0879-.6395.1411-.965.1603-.5069 0-.9787-.1374-1.4485-.4123l.0127-.0119zM101.39 12.664c-.663.3115-1.292.4434-1.9231.3995-.0975-.5919 0-1.2002.2631-1.8662.234-.568.546-1.081.975-1.5391.448-.47639.984-.87033 1.589-1.15433.643-.31148 1.257-.47639 1.842-.50387.078.62297 0 1.23678-.244 1.89639-.222.58631-.553 1.12681-.974 1.61241-.425.4764-.951.8703-1.546 1.1543l.018.0009z"/>
</svg>
        </a>
    <a class="download__link" href="https://keybase.io/download">Also available for Android, iOS, Linux, and Windows</a>
</template>

<template id="link-windows">
    <a href="https://keybase.io/docs/the_app/install_windows" class="download__button" aria-label="Download Keybase">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 40">
    <path fill="var(--color--content__text)" d="M0 0h120v40H0z"/>
    <path fill="var(--color--content__background)" d="M1 1h118v38H1z"/>
    <path fill="var(--color--content__text)" d="M17.3 13.4v-1h-3.6v1.4h1.8v.1c0 1-.8 1.8-2 1.8-1.4 0-2.3-1.1-2.3-3 0-1.8.9-2.8 2.3-2.8 1 0 1.7.5 2 1.4h1.7c-.3-1.7-1.8-2.9-3.7-2.9-2.5 0-4 1.6-4 4.3 0 2.8 1.5 4.4 4 4.4 2.4 0 3.8-1.3 3.8-3.7zM21.1 11.8c.8 0 1.3.6 1.3 1.4h-2.6c0-.8.6-1.4 1.3-1.4zm1.3 3.3c-.1.5-.6.8-1.2.8-.9 0-1.5-.6-1.5-1.5v-.1h4.4v-.6c0-1.9-1.2-3.1-3-3.1-1.9 0-3 1.3-3 3.3 0 2 1.1 3.2 3 3.2 1.6 0 2.7-.8 3-2h-1.7zM25.4 9.3v1.4h-.9V12h1v3.3c0 1.2.5 1.7 2 1.7h.8v-1.3h-.4c-.5 0-.8-.2-.8-.7v-3h1.2v-1.3H27V9.3h-1.7zM33.5 17v-2.6l.8-1 2.5 3.6H39l-3.3-4.7 3.1-3.8h-2l-3.1 3.9V8.5h-1.9V17h1.8z"/>
    <path fill="var(--color--content__text)" d="M42 11.8c.7 0 1.2.6 1.3 1.4h-2.7c0-.8.6-1.4 1.3-1.4zm1.3 3.3c-.2.5-.7.8-1.3.8-.9 0-1.4-.6-1.4-1.5v-.1h4.3v-.6c0-1.9-1.1-3.1-3-3.1-1.8 0-3 1.3-3 3.3 0 2 1.2 3.2 3 3.2 1.6 0 2.8-.8 3-2h-1.6zM46.5 19.3c1.6 0 2.4-.5 3-2.2l2-6.4h-1.7l-1.3 5-1.4-5h-1.9l2.2 6.3v.3c-.2.5-.5.7-1.1.7h-.4v1.3h.6zM56 17.1c1.5 0 2.5-1.2 2.5-3.2s-1-3.3-2.5-3.3a2 2 0 00-2 1.2V8.5h-1.7V17H54v-1a2 2 0 002 1.1zm-.6-5.1c.8 0 1.4.7 1.4 1.9 0 1.1-.6 1.8-1.4 1.8-.9 0-1.4-.7-1.4-1.8 0-1.2.5-2 1.4-2zM61.8 15.9c-.6 0-1-.3-1-.8 0-.4.4-.7 1-.8h1.4v.4c0 .7-.6 1.2-1.4 1.2zm-.5 1.2c.7 0 1.5-.4 1.9-1v.9H65v-4.3c0-1.3-1-2.1-2.7-2.1-1.7 0-2.7.8-2.8 2H61c0-.4.5-.7 1.1-.7.7 0 1 .3 1 .9v.4l-1.5.1c-1.6 0-2.4.8-2.4 1.9 0 1.1.9 1.9 2 1.9zM65.9 12.6c0 1 .6 1.5 1.8 1.8l1 .2c.7.1.9.3.9.7 0 .4-.4.6-1 .6-.7 0-1.1-.3-1.2-.8h-1.7c.1 1.2 1.1 2 2.9 2 1.6 0 2.7-.8 2.7-2 0-1-.5-1.5-1.8-1.7l-1.1-.3c-.7 0-.9-.3-.9-.6 0-.4.4-.7 1-.7s1 .3 1 .8h1.6c0-1.2-1-2-2.6-2s-2.6.8-2.6 2zM75 11.8c.7 0 1.2.6 1.3 1.4h-2.7c0-.8.6-1.4 1.4-1.4zm1.3 3.3c-.2.5-.6.8-1.3.8-.8 0-1.4-.6-1.4-1.5v-.1h4.3v-.6c0-1.9-1.1-3.1-3-3.1-1.8 0-3 1.3-3 3.3 0 2 1.2 3.2 3.1 3.2 1.6 0 2.7-.8 2.9-2h-1.6zM10 31h1.7v-5H13v-1.3h-1.2v-.4c0-.4.2-.7.8-.7h.5v-1a5 5 0 00-1-.1c-1.4 0-2 .5-2 1.8v.4h-.8V26h.8v5zM16.5 31.1c2 0 3.2-1.2 3.2-3.2s-1.3-3.3-3.2-3.3c-1.8 0-3 1.2-3 3.3 0 2 1.1 3.2 3 3.2zm0-1.3c-.8 0-1.3-.7-1.3-2 0-1.2.5-2 1.3-2 .9 0 1.4.8 1.4 2 0 1.3-.5 2-1.4 2zM20.5 31h1.7v-3.5c0-.9.5-1.4 1.4-1.4h.6v-1.4h-.5c-.7 0-1.3.4-1.5 1.1v-1h-1.7V31zM32.5 25.2l1.7 5.8h1.6l2.3-8.5h-1.9L35 28.7l-1.6-6.2h-1.5l-1.6 6.2-1.4-6.2H27l2.2 8.5H31l1.6-5.8zM39 31h1.6v-6.3H39V31zm.8-7.1c.5 0 .8-.4.8-1 0-.4-.3-.8-.8-.8a.9.9 0 100 1.8zM41.8 31h1.7v-3.6c0-.8.5-1.4 1.2-1.4.8 0 1.2.5 1.2 1.3V31h1.7v-4c0-1.5-.8-2.4-2.2-2.4-1 0-1.6.5-2 1.2v-1h-1.6V31zM51 31.1a2 2 0 002-1.2V31h1.7v-8.5H53v3.3a2 2 0 00-2-1.2c-1.6 0-2.6 1.3-2.6 3.2 0 2 1 3.3 2.6 3.3zm.6-5.1c.8 0 1.4.7 1.4 1.9 0 1.1-.6 1.8-1.4 1.8-.9 0-1.4-.7-1.4-1.8 0-1.2.5-2 1.4-2zM58.7 31.1c1.9 0 3.1-1.2 3.1-3.2s-1.2-3.3-3-3.3c-2 0-3.2 1.2-3.2 3.3 0 2 1.2 3.2 3.1 3.2zm0-1.3c-.8 0-1.4-.7-1.4-2 0-1.2.6-2 1.4-2 .8 0 1.4.8 1.4 2 0 1.3-.6 2-1.4 2zM71.5 24.7h-1.7l-1 4.7-1.1-4.7H66L65 29.4l-1-4.7h-1.7l1.7 6.3h1.8l1.1-4.4L68 31h1.8l1.7-6.3zM72 26.6c0 1 .6 1.5 1.8 1.8l1 .2c.7.1 1 .3 1 .7 0 .4-.5.6-1.1.6-.7 0-1.1-.3-1.2-.8h-1.7c.1 1.2 1.1 2 2.9 2 1.6 0 2.7-.8 2.7-2 0-1-.5-1.5-1.8-1.7l-1.1-.3c-.6 0-.9-.3-.9-.6 0-.4.4-.7 1-.7s1 .3 1 .8h1.7c0-1.2-1-2-2.7-2-1.6 0-2.6.8-2.6 2zM88 12.2l9-1.3v8.7h-9v-7.4zm10-1.4L110 9v10.4H98v-8.6zm-10 9.8h9v8.6L88 28v-7.4zm10 0h12V31l-11.8-1.7"/>
</svg>
        </a>
    <a class="download__link" href="https://keybase.io/download">Also available for Android, iOS, Linux, and Mac OS</a>
</template>


<template id="link-unknown">
  <a href="https://keybase.io/download" class="download__button" aria-label="Download Keybase">
  <svg viewBox="0 0 118 38" xmlns="http://www.w3.org/2000/svg">
    <rect stroke="var(--color--content__text)" fill="none"  x=".5" y=".5" width="117" height="37" rx="4.5"/>
    <path fill="var(--color-content__text)" d="M27.7 25.6a1 1 0 00-.9.6 1 1 0 00.7 1.3 1 1 0 001-.4 1 1 0 00-.8-1.5zm5.7-7.6a11 11 0 00-5.4-4.2 4 4 0 00-2.4-5.3 5 5 0 00-1.7-.3c0-.1-.1-.6.5-1.8l-1.2-.7-.3.3-1.2 1.8h-.5l-2-.1c-2.7 0-2.7 2.7-2.7 2.3v2c-.2 1.3 1 2.5 2.4 2.6h.4a11 11 0 00-2.4 1.9c-3.2 3.2-3.2 6.8-3.2 9.7v1.7l1.2-1.5c.2.7.4 1.3.8 2 .3.5.7.4 1 .3.2 0 .5-.3.2-1-.4-.9-.7-1.8-.8-2.8l2.4-3-1.3 3.8c3-2.2 8-3.2 12.1-2 1.8.5 3.5 0 4.4-1.2v-.2c.2.5.2 1 .2 1.5a12 12 0 01-.8 4.2c0 .3.1.7.5.8.4 0 .8-.2 1-.6.4-1.3.7-2.8.7-4.4 0-2-.7-4-1.9-5.8zm-13-7.4h-.9v1.1h.6v1H19a.6.6 0 01-.6-.7v-1.9c.1-.6.8-.5.8-.5h1.5l-.4 1zm7.5 9a.5.5 0 01-.7-.1l-.5-.6-1.8 1.4a.4.4 0 01-.5 0l-.9-1a.4.4 0 01.1-.6l1.8-1.4-.7-.9-1 .7a.4.4 0 01-.5 0l-.2-.2a.4.4 0 01.1-.6l.9-.7-1-1.1a.5.5 0 01.1-.7.5.5 0 01.8 0l4.1 5a.5.5 0 010 .7zm-5.3 6a1 1 0 00-.8.6 1 1 0 00.6 1.3 1 1 0 001-.4 1 1 0 00-.8-1.5z"/>
    <path fill="var(--color-content__text)" d="M49.7 15V8.3h2.4c.5 0 1 .1 1.4.3a3.1 3.1 0 011.8 1.7 3.5 3.5 0 010 2.7 3 3 0 01-1.8 1.8l-1.4.2h-2.4zm2.4-.9c.4 0 .8 0 1-.2.4-.1.6-.3.8-.5l.5-.8.1-1-.1-.9a2.2 2.2 0 00-1.2-1.3l-1-.2h-1.5v5h1.4zm6.8 1c-.4 0-.7 0-1-.2l-.8-.5-.5-.8a2.8 2.8 0 01.5-2.8A2.3 2.3 0 0159 10c.4 0 .7.1 1 .3.3 0 .6.3.8.5l.5.8.2 1-.2 1-.5.8-.8.5c-.3.2-.6.2-1 .2zm0-.8l.7-.1.4-.4.3-.6a2.2 2.2 0 000-1.3c0-.2-.2-.4-.3-.5a1.4 1.4 0 00-1-.6l-.7.2c-.2 0-.4.2-.5.4l-.3.5v1.4c0 .2.2.3.3.5a1.4 1.4 0 001.1.5zm7.8.7l-1.2-3.7-1.2 3.7h-1L62 10.2h.9l1 3.7 1.3-3.7h.8l1.2 3.7 1-3.7h1L67.6 15h-1zm6.5 0v-3c0-.5-.1-.8-.3-1l-.7-.2c-.3 0-.6.1-.8.3l-.6.5V15H70v-4.8h1v.7a2 2 0 01.6-.6 2.2 2.2 0 011-.3c.6 0 1 .2 1.2.4.3.3.4.7.4 1.2V15h-1zm2.3 0V8.3h1V15h-1zm4.5.1c-.4 0-.7 0-1-.2l-.8-.5-.5-.8a2.8 2.8 0 01.5-2.8A2.3 2.3 0 0180 10c.4 0 .7.1 1 .3.3 0 .6.3.8.5l.5.8.1 1-.1 1-.5.8-.8.5c-.3.2-.6.2-1 .2zm0-.8l.6-.1.5-.4.3-.6a2.2 2.2 0 000-1.3c0-.2-.2-.4-.3-.5a1.4 1.4 0 00-1.1-.6l-.6.2c-.2 0-.4.2-.5.4l-.3.5-.1.7v.7l.4.5a1.4 1.4 0 001 .5zm6.6.7v-.5a2 2 0 01-.7.5l-1 .1h-.5l-.6-.4a1.5 1.5 0 01-.5-1.2l.1-.7.4-.5.6-.3h.6l.9.1.7.5v-.8c0-.3-.2-.6-.4-.7-.2-.2-.5-.3-.8-.3a2 2 0 00-1.5.7l-.4-.7c.6-.5 1.2-.8 2-.8l.8.1a1.6 1.6 0 011 .9l.2.7V15h-1zm-1.3-.5c.3 0 .5 0 .7-.2.2 0 .4-.2.6-.4v-.8l-.6-.4-.7-.1c-.3 0-.6 0-.8.2-.2.2-.3.4-.3.7 0 .3.1.6.3.7.2.2.5.3.8.3zm7 .5v-.7c-.1.3-.4.4-.7.6l-.8.2c-.4 0-.6 0-1-.2a2 2 0 01-.6-.5l-.4-.8-.2-1c0-.4 0-.7.2-1 0-.4.2-.6.4-.9a2 2 0 011.6-.6c.3 0 .6 0 .8.2.3.1.5.3.7.6V8.3h1V15h-1zm-1.3-.7c.3 0 .5 0 .8-.2l.5-.5v-2c0-.2-.3-.4-.5-.5a1.5 1.5 0 00-1.4-.1c-.2 0-.3.2-.5.3l-.3.6v1.4l.3.5a1.3 1.3 0 001.1.5zM55.5 29l-2.9-3.7-.7.8V29h-2v-9.3h2v4.1l3.3-4.1h2.5L54 24l4 5h-2.5zm6 .2c-.4 0-1-.1-1.4-.3l-1.1-.7a3.4 3.4 0 01-1-2.6c0-.5 0-1 .2-1.4a3.5 3.5 0 011.9-1.8 3.5 3.5 0 012.7 0c.5.1.8.4 1.1.7.3.3.5.7.7 1.2.2.4.3 1 .3 1.5v.4h-5c0 .4.2.8.5 1 .3.4.8.6 1.4.6a2.8 2.8 0 001.8-.7l.8 1.1c-.4.3-.8.6-1.3.7a5 5 0 01-1.5.3zm1.6-4.2v-.5l-.4-.5-.5-.4-.7-.1-.8.1-.5.4-.3.5-.1.5h3.3zm3 5l.3.1H67.3l.4-.4.2-.6-2.7-6.9H67l1.7 4.7 1.8-4.7h2l-3.3 8c-.2.5-.6 1-1 1.2a3.4 3.4 0 01-2 .3H66l.3-1.6zm9-3.2l.7.6.8.2c.5 0 1-.2 1.3-.5.3-.4.4-.9.4-1.5s-.1-1-.4-1.4c-.3-.4-.8-.5-1.3-.5-.3 0-.6 0-.8.2-.3.1-.6.3-.7.5v2.4zM73.3 29v-9.3h1.8V23a2.6 2.6 0 012-1 2.8 2.8 0 012.2 1c.3.2.5.6.7 1l.2 1.5c0 .6-.1 1-.3 1.5-.1.5-.3.8-.6 1.1-.3.3-.6.6-1 .7a3 3 0 01-1.1.3l-1.2-.3-1-.8v.9h-1.7zm12.3 0v-.7c-.3.3-.6.5-1 .6-.3.2-.7.3-1.2.3a2.6 2.6 0 01-1.5-.6c-.3-.2-.5-.4-.6-.7l-.2-1c0-.4 0-.7.2-1 .1-.3.3-.5.6-.7.2-.1.4-.3.7-.3l.8-.2c.5 0 .9.1 1.3.3.4 0 .7.3.9.6v-1a1 1 0 00-.4-.8c-.3-.2-.7-.3-1.1-.3-.8 0-1.4.3-2 .8l-.7-1.2a4 4 0 011.4-.8 4.8 4.8 0 012.7-.1c.4 0 .7.2 1 .4l.6.8c.2.3.3.7.3 1.2V29h-1.8zm-1.4-1c.2 0 .5 0 .8-.2.2 0 .4-.2.6-.4v-.9l-.6-.4-.8-.2c-.4 0-.7.1-1 .3-.2.2-.3.4-.3.8 0 .3.1.5.3.7.3.2.6.3 1 .3zm7.4 1.2c-.6 0-1.2-.1-1.7-.3-.6-.2-1-.5-1.4-.8l.8-1.2.5.3.5.3.7.2.6.1c.4 0 .7 0 .9-.2.2-.1.3-.3.3-.5l-.1-.3-.3-.2-.5-.1a15.9 15.9 0 00-1.4-.4c-.3 0-.6-.2-.8-.3l-.7-.6c-.2-.3-.2-.6-.2-1l.1-.8.6-.7.8-.4c.4-.2.8-.2 1.2-.2.6 0 1.1 0 1.6.2l1.2.7-.8 1.2c-.2-.2-.4-.4-.8-.5-.4-.2-.7-.3-1.2-.3-.3 0-.5 0-.7.2-.2.2-.3.3-.3.5s0 .3.3.4l1 .3c.3 0 .6 0 .9.2l.9.3.6.7c.2.2.3.6.3 1 0 .3 0 .6-.2.9a2 2 0 01-.6.7l-.9.4-1.2.2zm7.4 0l-1.5-.3-1.1-.7a3.4 3.4 0 01-1-2.6c0-.5 0-1 .2-1.4a3.5 3.5 0 011.8-1.8 3.5 3.5 0 012.8 0c.5.1.8.4 1.1.7.3.3.5.7.7 1.2.2.4.2 1 .2 1.5v.4h-5c0 .4.3.8.6 1 .3.4.8.6 1.4.6a2.8 2.8 0 001.8-.7l.8 1.1c-.4.3-.8.6-1.3.7a5 5 0 01-1.5.3zm1.5-4.2v-.5l-.4-.5-.5-.4-.7-.1-.8.1-.5.4-.3.5-.1.5h3.3z"/>
  </svg>
  </a>
</template>

<div class="download">
  <div class="download__title">Get Keybase</div>
  <p class="download__description">
    Keybase is a safe, secure, and private app for everything you do online.
  </p>
</div>
<script>
let ua = window.navigator.userAgent;
let platform = 'unknown';

if (ua.indexOf('Android') !== -1) { platform = 'android'; }
else if (ua.indexOf('Linux') !== -1) { platform = 'linux'; }
else if (ua.indexOf('Windows') !== -1) { platform = 'windows'; }
else if (ua.indexOf('Win32') !== -1) { platform = 'windows'; }
else if (ua.indexOf('iPhone') !== -1) { platform = 'ios'; }
else if (ua.indexOf('iPad') !== -1) { platform = 'ios'; }
else if (ua.indexOf('Mac OS') !== -1) { platform = 'mac'; }

let temp = document.querySelector('#link-' + platform);
let clone = temp.content.cloneNode(true);

document.querySelector("div.download").appendChild(clone);
</script>
    <span class="site-footer__copyright">(C) Keybase — 2022</span>
    <span class="site-footer__disclaimer">Keybase Book is <a href="https://github.com/keybase/book-content/">open source</a>.</span>
  </div>
</footer>
  </body>
</html>